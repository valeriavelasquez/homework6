<!doctype html>
<html>
<head>
<style>
    body{
        background-color: #D3D3D3;
        font-family: iceberg;
        text-align: center;
    }
     
    h1{
        font-size: 24pt;
        font-family: iceberg;
        text-align: center;
    }
    h2{
        font-size: 18pt;
        font-family: iceberg;
        text-align: center;
    }
</style>
    
<meta charset="utf-8">
<title>Form Demo</title>
<script language="javascript">
  
    

    /* test for showArray()
    testNumbers = [1,2,3,4];
    showArray(testNumbers); */
    
    /* test for addArray()
    testNumbers = [1, 2, 3, 4];
    alert("Sum = " + addArray(testNumbers)); // expect: 10
    */
    
    /* test for getFactors()
    alert("Factors = " + getFactors(8)); // expect: 1,2,4
    */
      /* test for isFactor()
    alert(isFactor(10, 2));
    */

//function to validate if fields are not empty 
function validate() {
    if (document.getElementById("number1").value == "" && document.getElementById("number2").value == "") {
         alert("Enter numbers! Fields are empty.");
          return false;
    } else {
         return true;
    }
}
    
//event 
window.onload=function()
{
	document.getElementById("Submit").onclick =
    function calculate()
    {
    var bool = validate();
        if(bool == true){
    var first = document.getElementById("number1").value;
    var second = document.getElementById("number2").value;
    display(first, second);
    isAmicable(first, second);
    
    }
        

    }
}
    


// reads and displays numbers in a div
function display(number1, number2)
{
    document.getElementById("displays").innerHTML="<br/>Numbers inputted: " + number1 + " and " + number2;
}

// isFactor() takes number and pos factor
// return true if factor
function isFactor(num1, num2)
{
    if(num1 % num2 == 0)
    {
        return true;
    }
    else{
        return false;
}
}

// showArray() takes array in and displays items
function showArray(numArray)
{
  document.getElementById("displays").innerHTML += "<br/>" + numArray;
}

// addArray() takes array in and returns sum of elements
function addArray(numArray)
{
    var arraySum = 0;
    for(var i = 0; i < numArray.length; i++)
        {
            arraySum += numArray[i];
        }
    return arraySum;
    
}

//puts all factors in an array
    function getFactors(num)
{
    const numArray = [];
    
    for (i = 1; i < num; i++)
        if (isFactor(num, i))
            numArray.push(i);
    return numArray;
}

// event handler to display if numbers are amicable or not, as well as their factors 
function isAmicable(number1, number2)
{
    
    var first = getFactors(number1);
    var second = getFactors(number2);
    
    document.getElementById("displays").innerHTML += "<br/><br/>Factors of " + number1 + ": " + first;
    document.getElementById("displays").innerHTML += "<br/>Factors of " + number2 + ": " + second;

    var firstSums = addArray(first);
    var secSums = addArray(second);
    
    document.getElementById("displays").innerHTML += "<br/><br/>Sum of factors of " + number1 + ": " + firstSums;
    document.getElementById("displays").innerHTML += "<br/>Sum of factors of " + number2 + ": " + secSums;

    if (firstSums == number2 && secSums == number1)
    {
        document.getElementById("displays").innerHTML += "<br/><br/>" + number1 + " and " + number2 + " are amicable!"
    } else {
        document.getElementById("displays").innerHTML += "<br/><br/>" + number1 + " and " + number2 + " are not amicable..."
    }
}

    
</script>
</head>

<body>

        <h1>Amicable Numbers<h1>
       <h2>Enter two numbers to check if they are amicable.</h2><br/>      
        <form name="amicable" onsubmit="return validate()">
            <br/>
            first number: <input type="text" name="number1" id="number1">
            <br/>
            <br/>
            second number: <input type="text" name="number2" id="number2">
            <br/><br/>
            <br/>
            <input type="button" value="Check if Amicable"   style="font-family: iceberg; background: #D3D3D3"
                   id = "Submit">
       
        <div id ="displays"></div>

        </form>
	<hr>
</body>
</html>

